# Detecting OS Noises: A Kernel Event Monitoring Approach for Reliable System Performance

### Description

This repository contains the OS noise use cases, Noise creation scripts, and the analyzing/visualizing scripts used to generate the ISSRE 2023 conference submission. The goal of this project is to provide more definitions for OS Noise, to isolate and highlight what threads/processes are making this noise, and to easily showcase how much noise is present on-CPU or off-CPU for a given trace. This project serves to expand on the already extensively researched on-CPU OS Noise by shining light on off-CPU Noise's impact.

### Research Methodology

Each trace was collected following the same methodology. First, Take a trace of the system performing a certain activity without additional noise being added to the system. Then, take another trace of the system while performing the same activity with additional noise introduced. The Trace was then analyzed and visualized using the scripts provided for the associated type of noise.

### Usage

LTTng was used to record the CPU, Network, and IRQ traces, installed following [tracevizlab](https://github.com/tuxology/tracevizlab/tree/master/labs/002-install-lttng-on-ubuntu) installation lab. Credit: [tuxology](https://github.com/tuxology). 
OSNoise was used to record the IRQ trace.

##### CPU

To record a trace For the CPU use case, start the LTTng tracing and run cpuSched.sh for the noiseless case or noiseCPUSched.sh for the noisy case then stop the trace. Analyze and visualize in Trace Compass using the CPU_Analyzing_Visualizing.js script by specifying what process you want to analyze in the code.


##### Network

To record a trace for the network use case, start the LTTng tracing and run network.sh for the noiseless case or noisyNetwork.sh for the noisy case then stop the trace. Analyze and visualize in Trace Compass using the Net_Analyzing_Visualizing.js script. 

##### Storage
To record a trace for the Storage use case, start the LTTng tracing and run DiskIO.sh for the noiseless case or NoistDiskIO for the noisy case then stop the trace. Analyze and visualize in Trace Compass using the Storage_Analyzing_Visualizing.js script by specifying the process you want to analyze in the code. Optionally, the files to be read can be created and named file1 - file10 to be used in the noise processes. The files provided are random strings generated by [random.org](https://www.random.org/strings/) 

##### IRQ
To record a trace for the IRQ use case, start the trace by opening up a terminal in the root, changing the directory to /sys/kernel/tracing/, and typing the command "echo osnoise > current_tracer". After a sufficient amount of time, you can read the trace by typing the command "cat trace" into the terminal or save it by moving it into a file. This will produce a noisy trace as the WORKLOAD option is on by default. To produce a noiseless trace, writing the option name preceded with the 'NO_' prefix to the osnoise/option file as outlined [here](https://docs.kernel.org/trace/osnoise-tracer.html). Analyze and visualize in Trace Compass using the IRQ_Analyzing_Visualizing.js script. 
